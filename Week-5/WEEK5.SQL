-- TASK 1
CREATE TEMP TABLE TEMP_301(LNAME VARCHAR(15),PNAME VARCHAR(15),HOURS DECIMAL(3,1));
INSERT INTO TEMP_301 SELECT LNAME,PNAME,HOURS FROM EMPLOYEE INNER JOIN (WORKS_ON INNER JOIN PROJECT ON PNO=PNUMBER) ON SSN=ESSN;
SELECT * FROM TEMP_301;

UPDATE PROJECT SET PLOCATION='BELLAIRE',DNUM=5 WHERE PNUMBER=10;
SELECT * FROM PROJECT;

INSERT INTO DEPTNUM SELECT DNUMBER FROM DEPARTMENT WHERE DNAME='RESEARCH';
SELECT * FROM DEPTNUM;
UPDATE EMPLOYEE E SET SALARY=SALARY*1.1 FROM DEPTNUM WHERE E.DNO=DEPTNUM.DNO;
SELECT * FROM EMPLOYEE;

DELETE FROM EMPLOYEE WHERE LNAME='BROWN';

ALTER TABLE EMPLOYEE DISABLE TRIGGER ALL;
DELETE FROM EMPLOYEE E WHERE E.SSN NOT IN (SELECT ESSN FROM DEPENDENT);
SELECT * FROM EMPLOYEE;
-- TASK 2
BEGIN;
CREATE TABLE PRODUCT (PNAME VARCHAR(15),PID INT);
INSERT INTO PRODUCT VALUES('JACKET',123),('SOAP',456);
COMMIT;
SELECT * FROM PRODUCT;

BEGIN;
INSERT INTO PRODUCT VALUES('SHIRT',897),('CARDIGAN',689);
SELECT * FROM PRODUCT;
ROLLBACK;
SELECT * FROM PRODUCT;

BEGIN;
INSERT INTO PRODUCT VALUES('TOP',789),('VANS',778);
SAVEPOINT S;
INSERT INTO PRODUCT VALUES('SWEATSHIRT',709),('CONVERSE',112);
SELECT * FROM PRODUCT;
